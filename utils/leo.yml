session_name: navigation_stack
socket_name: px4_leonardo
windows:
  - window_name: localization
    layout: tiled
    panes:
    - shell_command:
        - cd ~/dev_ws && source install/setup.bash
        - ros2 launch drone_odometry slam_leonardo.launch.py
    - shell_command:
        - sleep 10
        - cd ~/dev_ws && source install/setup.bash
        - ros2 run babyk_drone_manager move_manager_node --ros-args --params-file /root/dev_ws/src/babyk_drone_manager/config/move_manager_params.yaml
    - shell_command:
        - sleep 10
        - cd ~/dev_ws && source install/setup.bash
        - ros2 launch aruco_detector_ocv_ros2 detector_launch.py
    - shell_command:
        - sleep 10
        - cd ~/dev_ws && source install/setup.bash
        - ros2 launch babyk_drone_manager tf_static_leo.launch.py use_sim_time:=false
  - window_name: planning
    layout: tiled
    panes:
    - shell_command:
        - sleep 12
        - cd ~/dev_ws && source install/setup.bash
        # - ros2 launch babyk_drone_manager autonomous_test_node.launch.py simulation:=false config_file:=config/autonomous_test_node_flight.yaml
        #- ros2 topic pub /seed_pdt_drone/command std_msgs/msg/String "{data: 'takeoff'}" --once          # to takeoff
        #- ros2 topic pub /seed_pdt_drone/command std_msgs/msg/String "{data: 'go(10.0,5.0,3.0)'}" --once # direct movement without path planning
        #- ros2 topic pub /seed_pdt_drone/command std_msgs/msg/String "{data: 'flyto(goal1)'}" --once     # path planning with RRT and FCL (goal1 is a frame name)
        #- ros2 topic pub /seed_pdt_drone/command std_msgs/msg/String "{data: 'flyto(cover(goal1))'}" --once     # path planning with RRT and FCL + covering area
        #- ros2 topic pub /seed_pdt_drone/command std_msgs/msg/String "{data: 'flyto(circle(goal1))'}" --once     # path planning with RRT and FCL + loitering
        #- ros2 topic pub /seed_pdt_drone/command std_msgs/msg/String "{data: 'land'}" --once             # to land
        #- ros2 topic pub /seed_pdt_drone/command std_msgs/msg/String "{data: 'stop'}" --once             # to stop trajectory
    - shell_command:
        - sleep 14
        - cd ~/dev_ws && source install/setup.bash
        - ros2 run traj_interp trajectory_interpolator --ros-args --params-file /root/dev_ws/src/traj_interp/config/trajectory_interpolator_flight.yaml
    - shell_command:
        - sleep 12
        - cd ~/dev_ws && source install/setup.bash
        - ros2 run path_planner path_planner_node --ros-args --params-file /root/dev_ws/src/path_planner/config/path_planner_flight.yaml
    